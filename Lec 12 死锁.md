#Lec 12 死锁

###死锁产生

+ 原因

	- 系统拥有的资源数量
	
	- 资源分配策略	###死锁防止
+ 形成死锁的四个必要条件
	- 互斥条件
	- 占有和等待条件
	- 不剥夺条件
	- 循环等待条件
+ 方法
	- 采用层次分配策略(破坏2,4)
###死锁避免
+ 银行家算法
	- 一个系统有n个进程和m种不同类型的资源
	- 系统每类资源总数:Resource=(R1,R2,...,Rm)
	- 每类资源未分配数量:Available=(V1,V2,...,Vm)
	- 最大需求矩阵:Claim=|Cij|,每个进程对每类资源的最大需求量
	- 分配矩阵:Allocation:|Aij|,表示进程当前已分得的资源数
	- 死锁避免策略:Ri≥C(n+1)i+∑Cki 对i=1,..,m, k=1,..,n;
	- 系统安全性:在时刻T0系统是安全的,仅当存在一个进程序列P1,..,Pn,对进程Pk满足公式:Cki-Aki≤Vi+∑Aji k=1,...,n, i=1,...,m;###死锁检测和解除
+ 进程-资源分配图
	- 无环路:无死锁
	- 有环路:每个资源类只有一个资源则发生死锁